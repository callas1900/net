---
title: 'FPSとポート開放'
date: 2007-03-28T17:56:00.000+09:00
draft: false
tags : [game]
---

最近FPSにはまっているのだが、FPSなどのアクションゲームをやる場合一番の敵となるのがラグである。  
  
例えば私のPCクライアントから銃弾をAという敵に撃った場合  
  

1.  私のクライアントで弾をある座標に向かって撃つというデータが送信される
2.  →サーバがその情報を受け取る
3.  →Aのキャラクタの位置をAのクライアントからゲットし弾道計算
4.  →私とAのクライアントに結果を返却
5.  →結果に見合った画面表示がなされる。

  
大まかにはこんな感じだろうか？  
これをWAN内で行うのだから当然通信ラグが発生する。  
Aを撃ったと思ったら明後日の方向に急に現れたなんてこともあるだろう。  
  
それを解消するためには、「ポートの開放」といったものが必要になってくる。  
  
このポートの開放だが、昔いけないP2Pソフトなどを起動する際も使用していたのだが、  
  
実は意味があまりよくわかっていなかった。  
  
さらに無知を加速させるのに、ポートの開放を自動で行ってくれるフリーソフトまで出回り始めたのだ。  
そこで私はポートの開放に関して考えることをやめた。  
  
  
時はたち、オンライン系のプログラムを組むにあたって多少のポートに関する知識が見えてきた。  
だがまだ良く分かっていない。  
頭の中で「ぽ～とのかぃほぅ」が「ポートのカイホウ」になった程度の理解度だ。  
  
  
さて、今回FPSで遊ぼうとすると任意のポートを開く必要が出てきた。  
しかもどうやら自動ツールでは私の家の環境。  
（光ファイバーを２階まで無線で飛ばしている）  
だと無理なようだ。  
予想だが、eoから支給されたルーターにさらに無線を飛ばす用のバファローのルーターを入れてるので  
二重ルーターになっていることが原因・・・か？  
  
そこでいい機会なので色々調べることにした。  
  
以下はメモ書きみたいなものなので、  
本当の知識ではないことに注意  
  

ループバックアドレス

　自分自身のこと127.0.0.1:110

PID

　Process ID

UDP

　User Datagram Protocol

TCP

　Transmission Control Protocol

※インターネットでは、トランスポート層のプロトコルとしてTCPも使われるが、 UDPは転送速度は高いが信頼性が低く、 TCPは信頼性は高いが転送速度が低い。  
  
二重ルーターに関して調べてみたらドンピシャなページを発見  
[二重ルータ モデム バッファロー PC](http://ratan.dyndns.info/help/nijyuuru-ta-baffaro-.html "二重ルータ モデム バッファロー PC")  
  
今週は土曜日まで家に帰れないから、週末帰ってから設定だな。  
  
  

### 気になる記事

[ハードディスクの物理障害、果たして本当に復旧できるのか？  
～前編～](http://gigazine.net/index.php?/news/comments/20070328_hdd_repair_01/%20 "ハードディスクの物理障害、果たして本当に復旧できるのか？～前編～")  
[](http://gigazine.net/index.php?/news/comments/20070328_hdd_repair_01/ "http://gigazine.net/index.php?/news/comments/20070328_hdd_repair_01/")  
[ハードディスクの物理障害、果たして本当に復旧できるのか？  
～後編～](http://gigazine.net/index.php?/news/comments/20070328_hdd_repair_02/%20 "ハードディスクの物理障害、果たして本当に復旧できるのか？～後編～")  
ハードディスクは消耗品、わかっちゃいるけど忘れてしまう。  
  
Mozilla，次期ブラウザ「Firefox 3」のアルファ3版を公開，Animated PNG対応など  
[http://itpro.nikkeibp.co.jp/article/NEWS/20070328/266587/](http://itpro.nikkeibp.co.jp/article/NEWS/20070328/266587/ "http://itpro.nikkeibp.co.jp/article/NEWS/20070328/266587/")  
システム開発者向けのリリース開始、  
今年の１１月末には３が正式バージョンでリリースされる予定だそうです。  
（めちゃめちゃはやくないか？）